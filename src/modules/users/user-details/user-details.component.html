<div class="card mb-3">
    <div class="row g-0">
        <div class="col-md-4">
            <img [src]="user.image" class="img-fluid rounded-start" alt="...">
        </div>
        <div class="col-md-8">
            <div class="card-body">
                <h5 class="card-title">
                    <i class="fa fa-circle" [ngClass]="{'text-success': user.active, 'text-danger': !user.active}"></i>
                    <i class="fa fa-star ms-1" [ngClass]="{'text-primary': user.is_premium, 'text-secondary': !user.is_premium}"></i>
                    {{user.name + ' ' + user.father_name + ' ' + user.grandfather_name}} - {{user.family_branch_name}}
                </h5>
                <p class="card-text"><b>Type</b>: {{user.type}}</p>
                <p class="card-text"><b>Email</b>: {{user.email}}</p>
                <p class="card-text"><b>Gender</b>: {{user.gender}}</p>
                <button class="card-text btn bg-transparent border-0 ps-0"
                    (click)="collapse.toggle()"
                    [attr.aria-expanded]="!isCollapsed"><b>Country</b>:
                </button>
                <div style="min-height: 100px">
                    <div #collapse="ngbCollapse" [(ngbCollapse)]="isCollapsed" [horizontal]="true" style="max-width: 300px">
                        <div class="card" style="width: 500px">
                            <div class="card-body position-relative">
                                <a *ngIf="user?.country?.longitude && user?.country?.latitude" class="text-danger m-2 position-absolute" target="_blank"
                                    href="https://www.google.com/maps/search/?api=1&query={{user.country!.latitude}},{{user.country!.longitude}}">
                                    <i class="fa fa-map-marker" title="Country Location"></i>
                                </a>
                                <p class="card-text"><b>Country Name</b>: {{user.country.name_en}} - {{user.country.name_ar}}</p>
                                <p class="card-text"><b>Country Code</b>: {{user.country_code}}</p>
                                <p class="card-text"><b>Country Region</b>: {{user.country.region}}</p>
                                <p class="card-text"><b>Country Capital</b>: {{user.country.capital}}</p>
                                <p class="card-text"><b>Country Currency</b>: {{user.country.currency_name}} - {{user.country.numeric_code}}</p>
                                <p class="card-text"><b>Country Phone Code</b>: {{user.country.phonecode}}</p>
                                <span *ngIf="user.country.iso2" class="badge bg-light text-dark">{{user.country.iso2}}</span>
                                <span *ngIf="user.country.iso3" class="badge bg-light text-dark">{{user.country.iso3}}</span>
                            </div>
                        </div>
                    </div>
                </div>
                <p class="card-text"><b>Phone Number</b>: + {{'('+user.phone_code+')' + ' ' + user.phone}}</p>
                <p class="card-text"><b>Date of Birth</b>: {{user.date_of_birth}}</p>
                <p class="card-text"><small class="text-muted">Last updated {{user.updated_at | date: 'MM/dd/yyyy, hh:mm a'}}</small></p>
            </div>
        </div>
    </div>
</div>